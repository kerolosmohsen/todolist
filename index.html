<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
            color: #e2e8f0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .light-mode-btn {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: #1e1b4b;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3);
        }

        .main-title {
            text-align: center;
            font-size: 42px;
            color: #60a5fa;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #94a3b8;
            margin-bottom: 30px;
        }

        /* Feature Pills */
        .features {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .feature-pill {
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .feature-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .feature-pill.active {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }

        .pill-goals { background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%); color: #5b21b6; }
        .pill-archive { background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%); color: #991b1b; }
        .pill-challenges { background: linear-gradient(135deg, #a7f3d0 0%, #6ee7b7 100%); color: #065f46; }
        .pill-points { background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%); color: #1e3a8a; }
        .pill-courses { background: linear-gradient(135deg, #fca5a5 0%, #f87171 100%); color: #7f1d1d; }
        .pill-projects { background: linear-gradient(135deg, #34d399 0%, #10b981 100%); color: #064e3b; }
        .pill-memory { background: linear-gradient(135deg, #67e8f9 0%, #22d3ee 100%); color: #164e63; }
        .pill-control { background: linear-gradient(135deg, #f9a8d4 0%, #f472b6 100%); color: #831843; }

        /* Section Title */
        .section-title {
            text-align: center;
            font-size: 32px;
            margin-bottom: 30px;
        }

        /* Stats Cards */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(139, 92, 246, 0.2) 100%);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            border: 2px solid rgba(139, 92, 246, 0.3);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(139, 92, 246, 0.6);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
        }

        .stat-value {
            font-size: 56px;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 18px;
            color: #cbd5e1;
        }

        /* Common Section Style */
        .section-content {
            display: none;
        }

        .section-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content-box {
            background: linear-gradient(135deg, rgba(30, 27, 75, 0.6) 0%, rgba(49, 46, 129, 0.6) 100%);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid rgba(139, 92, 246, 0.3);
            margin-bottom: 30px;
        }

        /* Forms */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr auto;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-input {
            padding: 12px;
            background: rgba(30, 27, 75, 0.8);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            color: #e2e8f0;
            font-size: 14px;
        }

        .form-input:focus {
            outline: none;
            border-color: #8b5cf6;
        }

        .form-input::placeholder {
            color: #64748b;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
        }

        .btn-small { padding: 6px 12px; font-size: 12px; }
        .btn-danger { background: #ef4444; }
        .btn-warning { background: #f59e0b; }
        .btn-success { background: #10b981; }

        /* Task/Item List */
        .item-list {
            display: grid;
            gap: 15px;
        }

        .item {
            background: rgba(30, 27, 75, 0.8);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(139, 92, 246, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .item:hover {
            border-color: rgba(139, 92, 246, 0.6);
        }

        .item.completed {
            opacity: 0.7;
            border-color: rgba(16, 185, 129, 0.5);
        }

        .item.neglected {
            border-color: rgba(239, 68, 68, 0.5);
            background: rgba(127, 29, 29, 0.2);
        }

        .item-info {
            flex: 1;
        }

        .item-title {
            font-size: 18px;
            margin-bottom: 8px;
            color: #f1f5f9;
        }

        .item-meta {
            font-size: 13px;
            color: #94a3b8;
        }

        .item-actions {
            display: flex;
            gap: 10px;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 8px;
        }

        .badge-neglected {
            background: rgba(239, 68, 68, 0.2);
            color: #fca5a5;
            border: 1px solid #ef4444;
        }

        .badge-completed {
            background: rgba(16, 185, 129, 0.2);
            color: #86efac;
            border: 1px solid #10b981;
        }

        .badge-progress {
            background: rgba(59, 130, 246, 0.2);
            color: #93c5fd;
            border: 1px solid #3b82f6;
        }

        /* Calendar */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .calendar-title {
            font-size: 24px;
            color: #a78bfa;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(30, 27, 75, 0.8);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
            font-size: 16px;
            font-weight: 600;
        }

        .calendar-day:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: #8b5cf6;
            transform: scale(1.05);
        }

        .calendar-day.has-neglected::after {
            content: '';
            position: absolute;
            top: 6px;
            left: 6px;
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            box-shadow: 0 0 10px #ef4444;
        }

        .calendar-day.selected {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            border-color: #8b5cf6;
            color: white;
        }

        .day-tasks {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid rgba(139, 92, 246, 0.3);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            padding: 15px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.5);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            font-weight: 600;
        }

        .toast.show {
            opacity: 1;
        }

        /* Project Grid */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .project-card {
            background: rgba(30, 27, 75, 0.8);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(139, 92, 246, 0.3);
            transition: all 0.3s;
        }

        .project-card:hover {
            border-color: #8b5cf6;
            transform: translateY(-5px);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(139, 92, 246, 0.2);
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6, #7c3aed);
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <button class="light-mode-btn">â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­</button>
        </div>

        <!-- Main Title -->
        <h1 class="main-title">ğŸ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h1>
        <p class="subtitle">Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆÙ‚ØªÙƒ ÙˆØ¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ</p>

        <!-- Feature Pills -->
        <div class="features">
            <div class="feature-pill pill-goals" onclick="showSection('goals')">ğŸ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø³Ù†ÙˆÙŠØ©</div>
            <div class="feature-pill pill-archive" onclick="showSection('archive')">ğŸ“¦ Ø§Ù„Ø£Ø±Ø´ÙŠÙ</div>
            <div class="feature-pill pill-challenges" onclick="showSection('challenges')">âœ… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</div>
            <div class="feature-pill pill-points" onclick="showSection('points')">ğŸ† 100 GB ÙŠÙˆÙ… Ø¥Ù†Ø¬Ø§Ø²ÙŠ</div>
            <div class="feature-pill pill-courses" onclick="showSection('courses')">ğŸ“š Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</div>
            <div class="feature-pill pill-projects active" onclick="showSection('projects')">ğŸ¯ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</div>
            <div class="feature-pill pill-memory" onclick="showSection('memory')">ğŸ¨ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</div>
            <div class="feature-pill pill-control" onclick="showSection('control')">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div>
        </div>

        <!-- ============================================ -->
        <!-- PROJECTS SECTION -->
        <!-- ============================================ -->
        <div class="section-content active" id="projects">
            <h2 class="section-title" style="color: #f472b6;">ğŸ¯ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</h2>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="totalProjects">0</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="completedProjects">0</div>
                    <div class="stat-label">Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…ÙƒØªÙ…Ù„Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="inProgressProjects">0</div>
                    <div class="stat-label">Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„</div>
                </div>
            </div>

            <div class="content-box">
                <h3 style="margin-bottom: 20px; color: #a78bfa;">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯</h3>
                <div class="form-row">
                    <input type="text" class="form-input" id="projectName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹">
                    <input type="text" class="form-input" id="projectDesc" placeholder="Ø§Ù„ÙˆØµÙ">
                    <input type="date" class="form-input" id="projectDeadline">
                    <button class="btn btn-primary" onclick="addProject()">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </div>

            <div class="project-grid" id="projectList"></div>
        </div>

        <!-- ============================================ -->
        <!-- MEMORY/STUDY SECTION (Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©) -->
        <!-- ============================================ -->
        <div class="section-content" id="memory">
            <h2 class="section-title" style="color: #22d3ee;">ğŸ¨ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</h2>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="completedToday">0</div>
                    <div class="stat-label">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="missedToday">0</div>
                    <div class="stat-label">Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="missedMonth">0</div>
                    <div class="stat-label">Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>
                </div>
            </div>

            <div class="content-box">
                <h3 style="margin-bottom: 20px; color: #a78bfa;">â• Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ù…Ø°Ø§ÙƒØ±Ø©</h3>
                <div class="form-row">
                    <input type="text" class="form-input" id="taskTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©">
                    <input type="number" class="form-input" id="taskHours" placeholder="Ø§Ù„Ø³Ø§Ø¹Ø§Øª" min="1">
                    <input type="date" class="form-input" id="taskDate">
                    <button class="btn btn-primary" onclick="addTask()">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </div>

            <div class="content-box">
                <h3 style="margin-bottom: 20px; color: #a78bfa;">ğŸ“‹ Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…</h3>
                <div class="item-list" id="taskList"></div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- CONTROL PANEL (Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…) -->
        <!-- ============================================ -->
        <div class="section-content" id="control">
            <h2 class="section-title" style="color: #f472b6;">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</h2>

            <div class="content-box">
                <div class="calendar-header">
                    <button class="btn btn-primary btn-small" onclick="changeMonth(-1)">â†</button>
                    <h2 class="calendar-title" id="calendarMonth"></h2>
                    <button class="btn btn-primary btn-small" onclick="changeMonth(1)">â†’</button>
                </div>
                <div class="calendar-grid" id="calendarGrid"></div>
                <div class="day-tasks" id="dayTasks"></div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- GOALS SECTION -->
        <!-- ============================================ -->
        <div class="section-content" id="goals">
            <h2 class="section-title" style="color: #c4b5fd;">ğŸ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø³Ù†ÙˆÙŠØ©</h2>
            
            <div class="content-box">
                <h3 style="margin-bottom: 20px; color: #a78bfa;">â• Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯</h3>
                <div class="form-row">
                    <input type="text" class="form-input" id="goalTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‡Ø¯Ù">
                    <input type="text" class="form-input" id="goalCategory" placeholder="Ø§Ù„ÙØ¦Ø©">
                    <input type="date" class="form-input" id="goalDeadline">
                    <button class="btn btn-primary" onclick="addGoal()">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </div>

            <div class="item-list" id="goalList"></div>
        </div>

        <!-- ============================================ -->
        <!-- COURSES SECTION -->
        <!-- ============================================ -->
        <div class="section-content" id="courses">
            <h2 class="section-title" style="color: #f87171;">ğŸ“š Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</h2>
            
            <div class="content-box">
                <h3 style="margin-bottom: 20px; color: #a78bfa;">â• Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ±Ø³</h3>
                <div class="form-row">
                    <input type="text" class="form-input" id="courseTitle" placeholder="Ø§Ø³Ù… Ø§Ù„ÙƒÙˆØ±Ø³">
                    <input type="text" class="form-input" id="coursePlatform" placeholder="Ø§Ù„Ù…Ù†ØµØ©">
                    <input type="number" class="form-input" id="courseProgress" placeholder="Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² %" min="0" max="100">
                    <button class="btn btn-primary" onclick="addCourse()">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </div>

            <div class="project-grid" id="courseList"></div>
        </div>

        <!-- ============================================ -->
        <!-- CHALLENGES SECTION -->
        <!-- ============================================ -->
        <div class="section-content" id="challenges">
            <h2 class="section-title" style="color: #6ee7b7;">âœ… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</h2>
            
            <div class="content-box">
                <h3 style="margin-bottom: 20px; color: #a78bfa;">â• Ø¥Ø¶Ø§ÙØ© ØªØ­Ø¯ÙŠ</h3>
                <div class="form-row">
                    <input type="text" class="form-input" id="challengeTitle" placeholder="Ø§Ø³Ù… Ø§Ù„ØªØ­Ø¯ÙŠ">
                    <input type="number" class="form-input" id="challengeDays" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…" min="1">
                    <input type="date" class="form-input" id="challengeStart">
                    <button class="btn btn-primary" onclick="addChallenge()">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </div>

            <div class="item-list" id="challengeList"></div>
        </div>

        <!-- ============================================ -->
        <!-- ARCHIVE SECTION -->
        <!-- ============================================ -->
        <div class="section-content" id="archive">
            <h2 class="section-title" style="color: #fca5a5;">ğŸ“¦ Ø§Ù„Ø£Ø±Ø´ÙŠÙ</h2>
            
            <div class="content-box">
                <p style="text-align: center; color: #94a3b8; font-size: 18px;">
                    Ù‡Ù†Ø§ ÙŠØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙˆØ§Ù„Ù…Ø¤Ø±Ø´ÙØ©
                </p>
            </div>

            <div class="item-list" id="archiveList"></div>
        </div>

        <!-- ============================================ -->
        <!-- POINTS SECTION -->
        <!-- ============================================ -->
        <div class="section-content" id="points">
            <h2 class="section-title" style="color: #60a5fa;">ğŸ† 100 GB ÙŠÙˆÙ… Ø¥Ù†Ø¬Ø§Ø²ÙŠ</h2>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="totalPoints">0</div>
                    <div class="stat-label">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="achievementDays">0</div>
                    <div class="stat-label">Ø£ÙŠØ§Ù… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="currentStreak">0</div>
                    <div class="stat-label">Ø§Ù„Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
                </div>
            </div>

            <div class="content-box">
                <p style="text-align: center; color: #94a3b8; font-size: 18px;">
                    Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ¢Øª ÙŠÙˆÙ…ÙŠ - Ø£ÙƒÙ…Ù„ Ù…Ù‡Ø§Ù…Ùƒ Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ 100 GB ÙŠÙˆÙ… Ø¥Ù†Ø¬Ø§Ø²ÙŠ!
                </p>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // ============================================
        // STATE MANAGEMENT
        // ============================================
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let projects = JSON.parse(localStorage.getItem('projects')) || [];
        let goals = JSON.parse(localStorage.getItem('goals')) || [];
        let courses = JSON.parse(localStorage.getItem('courses')) || [];
        let challenges = JSON.parse(localStorage.getItem('challenges')) || [];
        let stats = JSON.parse(localStorage.getItem('stats')) || {
            daily: {},
            monthly: {}
        };
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let selectedDay = null;
        let currentSection = 'projects';

        // ============================================
        // INITIALIZATION
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
            setTodayDate();
            scheduleNightlyCheck();
        });

        function initializeApp() {
            checkNeglectedTasks();
            renderAll();
        }

        function setTodayDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('taskDate').value = today;
        }

        function renderAll() {
            renderTasks();
            renderProjects();
            renderGoals();
            renderCourses();
            renderChallenges();
            renderArchive();
            updateAllStats();
            renderCalendar();
        }

        // ============================================
        // SECTION SWITCHING
        // ============================================
        function showSection(section) {
            currentSection = section;
            
            // Remove active from all pills
            document.querySelectorAll('.feature-pill').forEach(pill => {
                pill.classList.remove('active');
            });
            
            // Add active to clicked pill
            event.target.classList.add('active');
            
            // Hide all sections
            document.querySelectorAll('.section-content').forEach(s => {
                s.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(section).classList.add('active');
            
            if (section === 'control') {
                renderCalendar();
            }
        }

        // ============================================
        // TASKS (Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©)
        // ============================================
        function addTask() {
            const title = document.getElementById('taskTitle').value.trim();
            const hours = parseInt(document.getElementById('taskHours').value);
            const date = document.getElementById('taskDate').value;

            if (!title || !hours || !date) {
                showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            tasks.push({
                id: Date.now(),
                title, hours, date,
                completed: false,
                neglected: false,
                createdAt: new Date().toISOString()
            });

            localStorage.setItem('tasks', JSON.stringify(tasks));
            document.getElementById('taskTitle').value = '';
            document.getElementById('taskHours').value = '';
            renderTasks();
            updateAllStats();
            showToast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©');
        }

        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task && !task.neglected) {
                task.completed = !task.completed;
                localStorage.setItem('tasks', JSON.stringify(tasks));
                renderTasks();
                updateAllStats();
            }
        }

        function markNotDone(id) {
            const task = tasks.find(t => t.id === id);
            if (!task || task.neglected) return;

            task.completed = false;
            const today = new Date().toISOString().split('T')[0];
            const monthKey = today.substring(0, 7);

            if (!stats.daily[today]) stats.daily[today] = { missedHours: 0 };
            if (!stats.monthly[monthKey]) stats.monthly[monthKey] = { missedHours: 0 };

            stats.daily[today].missedHours += task.hours;
            stats.monthly[monthKey].missedHours += task.hours;

            localStorage.setItem('tasks', JSON.stringify(tasks));
            localStorage.setItem('stats', JSON.stringify(stats));
            renderTasks();
            updateAllStats();
            showToast(`â±ï¸ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${task.hours} Ø³Ø§Ø¹Ø© Ù„Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ù„Ø©`);
        }

        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            localStorage.setItem('tasks', JSON.stringify(tasks));
            renderTasks();
            updateAllStats();
            showToast('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø©');
        }

        function renderTasks() {
            const container = document.getElementById('taskList');
            const today = new Date().toISOString().split('T')[0];
            const todayTasks = tasks.filter(t => t.date === today);

            if (todayTasks.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 40px 0;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ù„Ù„ÙŠÙˆÙ…</p>';
                return;
            }

            container.innerHTML = todayTasks.map(task => `
                <div class="item ${task.completed ? 'completed' : ''} ${task.neglected ? 'neglected' : ''}">
                    <div class="item-info">
                        <div class="item-title">
                            ${task.title}
                            ${task.neglected ? '<span class="badge badge-neglected">Ù…Ù‡Ù…Ù„</span>' : ''}
                            ${task.completed ? '<span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„</span>' : ''}
                        </div>
                        <div class="item-meta">${task.hours} Ø³Ø§Ø¹Ø© â€¢ ${task.date}</div>
                    </div>
                    <div class="item-actions">
                        ${!task.neglected ? `
                            <button class="btn btn-success btn-small" onclick="toggleTask(${task.id})">
                                ${task.completed ? 'â†©ï¸' : 'âœ“'}
                            </button>
                            <button class="btn btn-warning btn-small" onclick="markNotDone(${task.id})">âŒ</button>
                        ` : ''}
                        <button class="btn btn-danger btn-small" onclick="deleteTask(${task.id})">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // PROJECTS
        // ============================================
        function addProject() {
            const name = document.getElementById('projectName').value.trim();
            const desc = document.getElementById('projectDesc').value.trim();
            const deadline = document.getElementById('projectDeadline').value;

            if (!name) {
                showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹');
                return;
            }

            projects.push({
                id: Date.now(),
                name, desc, deadline,
                completed: false,
                progress: 0,
                createdAt: new Date().toISOString()
            });

            localStorage.setItem('projects', JSON.stringify(projects));
            document.getElementById('projectName').value = '';
            document.getElementById('projectDesc').value = '';
            document.getElementById('projectDeadline').value = '';
            renderProjects();
            updateAllStats();
            showToast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹');
        }

        function updateProjectProgress(id, amount) {
            const project = projects.find(p => p.id === id);
            if (project) {
                project.progress = Math.min(100, Math.max(0, project.progress + amount));
                if (project.progress === 100) {
                    project.completed = true;
                } else {
                    project.completed = false;
                }
                localStorage.setItem('projects', JSON.stringify(projects));
                renderProjects();
                updateAllStats();
            }
        }

        function toggleProject(id) {
            const project = projects.find(p => p.id === id);
            if (project) {
                project.completed = !project.completed;
                project.progress = project.completed ? 100 : 0;
                localStorage.setItem('projects', JSON.stringify(projects));
                renderProjects();
                updateAllStats();
                showToast(project.completed ? 'ğŸ‰ ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹!' : 'â†©ï¸ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹');
            }
        }

        function deleteProject(id) {
            projects = projects.filter(p => p.id !== id);
            localStorage.setItem('projects', JSON.stringify(projects));
            renderProjects();
            updateAllStats();
            showToast('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹');
        }

        function renderProjects() {
            const container = document.getElementById('projectList');
            
            if (projects.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 40px 0; grid-column: 1/-1;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }

            container.innerHTML = projects.map(project => `
                <div class="project-card ${project.completed ? 'completed' : ''}">
                    <div class="item-title">${project.name}</div>
                    <div class="item-meta">${project.desc || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ'}</div>
                    <div class="item-meta">Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${project.deadline || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>
                    ${project.completed ? '<span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„ âœ“</span>' : '<span class="badge badge-progress">Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„</span>'}
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${project.progress}%"></div>
                    </div>
                    <div style="text-align: center; margin-top: 5px; color: #94a3b8; font-size: 12px;">${project.progress}%</div>
                    <div class="item-actions" style="margin-top: 15px; justify-content: space-between; width: 100%;">
                        <div style="display: flex; gap: 5px;">
                            <button class="btn btn-primary btn-small" onclick="updateProjectProgress(${project.id}, -10)" title="ØªÙ‚Ù„ÙŠÙ„ 10%">-</button>
                            <button class="btn btn-primary btn-small" onclick="updateProjectProgress(${project.id}, 10)" title="Ø²ÙŠØ§Ø¯Ø© 10%">+</button>
                        </div>
                        <div style="display: flex; gap: 5px;">
                            <button class="btn ${project.completed ? 'btn-warning' : 'btn-success'} btn-small" onclick="toggleProject(${project.id})">
                                ${project.completed ? 'â†©ï¸ Ø¥Ø¹Ø§Ø¯Ø©' : 'âœ“ Ø¥ÙƒÙ…Ø§Ù„'}
                            </button>
                            <button class="btn btn-danger btn-small" onclick="deleteProject(${project.id})">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // GOALS
        // ============================================
        function addGoal() {
            const title = document.getElementById('goalTitle').value.trim();
            const category = document.getElementById('goalCategory').value.trim();
            const deadline = document.getElementById('goalDeadline').value;

            if (!title) {
                showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‡Ø¯Ù');
                return;
            }

            goals.push({
                id: Date.now(),
                title, category, deadline,
                completed: false,
                createdAt: new Date().toISOString()
            });

            localStorage.setItem('goals', JSON.stringify(goals));
            document.getElementById('goalTitle').value = '';
            document.getElementById('goalCategory').value = '';
            document.getElementById('goalDeadline').value = '';
            renderGoals();
            showToast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‡Ø¯Ù');
        }

        function toggleGoal(id) {
            const goal = goals.find(g => g.id === id);
            if (goal) {
                goal.completed = !goal.completed;
                localStorage.setItem('goals', JSON.stringify(goals));
                renderGoals();
            }
        }

        function deleteGoal(id) {
            goals = goals.filter(g => g.id !== id);
            localStorage.setItem('goals', JSON.stringify(goals));
            renderGoals();
            showToast('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù‡Ø¯Ù');
        }

        function renderGoals() {
            const container = document.getElementById('goalList');
            
            if (goals.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 40px 0;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‡Ø¯Ø§Ù Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }

            container.innerHTML = goals.map(goal => `
                <div class="item ${goal.completed ? 'completed' : ''}">
                    <div class="item-info">
                        <div class="item-title">
                            ${goal.title}
                            ${goal.completed ? '<span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„</span>' : ''}
                        </div>
                        <div class="item-meta">${goal.category || 'Ø¹Ø§Ù…'} â€¢ ${goal.deadline || 'Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ¹Ø¯'}</div>
                    </div>
                    <div class="item-actions">
                        <button class="btn btn-success btn-small" onclick="toggleGoal(${goal.id})">
                            ${goal.completed ? 'â†©ï¸' : 'âœ“'}
                        </button>
                        <button class="btn btn-danger btn-small" onclick="deleteGoal(${goal.id})">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // COURSES
        // ============================================
        function addCourse() {
            const title = document.getElementById('courseTitle').value.trim();
            const platform = document.getElementById('coursePlatform').value.trim();
            const progress = parseInt(document.getElementById('courseProgress').value) || 0;

            if (!title) {
                showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„ÙƒÙˆØ±Ø³');
                return;
            }

            courses.push({
                id: Date.now(),
                title, platform, progress,
                completed: false,
                createdAt: new Date().toISOString()
            });

            localStorage.setItem('courses', JSON.stringify(courses));
            document.getElementById('courseTitle').value = '';
            document.getElementById('coursePlatform').value = '';
            document.getElementById('courseProgress').value = '';
            renderCourses();
            showToast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ±Ø³');
        }

        function updateCourseProgress(id, amount) {
            const course = courses.find(c => c.id === id);
            if (course) {
                course.progress = Math.min(100, Math.max(0, course.progress + amount));
                if (course.progress === 100) {
                    course.completed = true;
                } else {
                    course.completed = false;
                }
                localStorage.setItem('courses', JSON.stringify(courses));
                renderCourses();
            }
        }

        function toggleCourseComplete(id) {
            const course = courses.find(c => c.id === id);
            if (course) {
                course.completed = !course.completed;
                course.progress = course.completed ? 100 : 0;
                localStorage.setItem('courses', JSON.stringify(courses));
                renderCourses();
                showToast(course.completed ? 'ğŸ‰ ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ÙƒÙˆØ±Ø³!' : 'â†©ï¸ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙƒÙˆØ±Ø³');
            }
        }

        function deleteCourse(id) {
            courses = courses.filter(c => c.id !== id);
            localStorage.setItem('courses', JSON.stringify(courses));
            renderCourses();
            showToast('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„ÙƒÙˆØ±Ø³');
        }

        function renderCourses() {
            const container = document.getElementById('courseList');
            
            if (courses.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 40px 0; grid-column: 1/-1;">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙˆØ±Ø³Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }

            container.innerHTML = courses.map(course => `
                <div class="project-card ${course.completed ? 'completed' : ''}">
                    <div class="item-title">${course.title}</div>
                    <div class="item-meta">Ø§Ù„Ù…Ù†ØµØ©: ${course.platform || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©'}</div>
                    <div class="item-meta">Ø§Ù„ØªÙ‚Ø¯Ù…: ${course.progress}%</div>
                    ${course.completed ? '<span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„ âœ“</span>' : ''}
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${course.progress}%"></div>
                    </div>
                    <div class="item-actions" style="margin-top: 15px; justify-content: space-between; width: 100%;">
                        <div style="display: flex; gap: 5px;">
                            <button class="btn btn-primary btn-small" onclick="updateCourseProgress(${course.id}, -10)" title="ØªÙ‚Ù„ÙŠÙ„ 10%">-</button>
                            <button class="btn btn-primary btn-small" onclick="updateCourseProgress(${course.id}, 10)" title="Ø²ÙŠØ§Ø¯Ø© 10%">+</button>
                        </div>
                        <div style="display: flex; gap: 5px;">
                            <button class="btn ${course.completed ? 'btn-warning' : 'btn-success'} btn-small" onclick="toggleCourseComplete(${course.id})">
                                ${course.completed ? 'â†©ï¸ Ø¥Ø¹Ø§Ø¯Ø©' : 'âœ“ Ø¥ÙƒÙ…Ø§Ù„'}
                            </button>
                            <button class="btn btn-danger btn-small" onclick="deleteCourse(${course.id})">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // CHALLENGES
        // ============================================
        function addChallenge() {
            const title = document.getElementById('challengeTitle').value.trim();
            const days = parseInt(document.getElementById('challengeDays').value);
            const start = document.getElementById('challengeStart').value;

            if (!title || !days || !start) {
                showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            challenges.push({
                id: Date.now(),
                title, days, start,
                completed: false,
                currentDay: 0,
                createdAt: new Date().toISOString()
            });

            localStorage.setItem('challenges', JSON.stringify(challenges));
            document.getElementById('challengeTitle').value = '';
            document.getElementById('challengeDays').value = '';
            document.getElementById('challengeStart').value = '';
            renderChallenges();
            showToast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠ');
        }

        function toggleChallenge(id) {
            const challenge = challenges.find(c => c.id === id);
            if (challenge) {
                challenge.completed = !challenge.completed;
                localStorage.setItem('challenges', JSON.stringify(challenges));
                renderChallenges();
            }
        }

        function deleteChallenge(id) {
            challenges = challenges.filter(c => c.id !== id);
            localStorage.setItem('challenges', JSON.stringify(challenges));
            renderChallenges();
            showToast('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØ­Ø¯ÙŠ');
        }

        function renderChallenges() {
            const container = document.getElementById('challengeList');
            
            if (challenges.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 40px 0;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­Ø¯ÙŠØ§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }

            container.innerHTML = challenges.map(challenge => `
                <div class="item ${challenge.completed ? 'completed' : ''}">
                    <div class="item-info">
                        <div class="item-title">
                            ${challenge.title}
                            ${challenge.completed ? '<span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„</span>' : ''}
                        </div>
                        <div class="item-meta">Ø§Ù„Ù…Ø¯Ø©: ${challenge.days} ÙŠÙˆÙ… â€¢ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©: ${challenge.start}</div>
                    </div>
                    <div class="item-actions">
                        <button class="btn btn-success btn-small" onclick="toggleChallenge(${challenge.id})">
                            ${challenge.completed ? 'â†©ï¸' : 'âœ“'}
                        </button>
                        <button class="btn btn-danger btn-small" onclick="deleteChallenge(${challenge.id})">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // ARCHIVE
        // ============================================
        function renderArchive() {
            const container = document.getElementById('archiveList');
            const archived = [
                ...tasks.filter(t => t.completed),
                ...projects.filter(p => p.completed),
                ...goals.filter(g => g.completed)
            ];

            if (archived.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 40px 0;">Ø§Ù„Ø£Ø±Ø´ÙŠÙ ÙØ§Ø±Øº</p>';
                return;
            }

            container.innerHTML = archived.map(item => `
                <div class="item completed">
                    <div class="item-info">
                        <div class="item-title">${item.title || item.name}</div>
                        <div class="item-meta">ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² âœ…</div>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // STATISTICS
        // ============================================
        function updateAllStats() {
            const today = new Date().toISOString().split('T')[0];
            const monthKey = today.substring(0, 7);

            // Tasks stats
            const completedToday = tasks.filter(t => t.date === today && t.completed).length;
            const missedToday = stats.daily[today]?.missedHours || 0;
            const missedMonth = stats.monthly[monthKey]?.missedHours || 0;

            document.getElementById('completedToday').textContent = completedToday;
            document.getElementById('missedToday').textContent = missedToday;
            document.getElementById('missedMonth').textContent = missedMonth;

            // Projects stats
            const total = projects.length;
            const completed = projects.filter(p => p.completed).length;
            const inProgress = projects.filter(p => !p.completed).length;

            document.getElementById('totalProjects').textContent = total;
            document.getElementById('completedProjects').textContent = completed;
            document.getElementById('inProgressProjects').textContent = inProgress;

            // Points stats
            document.getElementById('totalPoints').textContent = completed * 100;
            document.getElementById('achievementDays').textContent = completedToday;
            document.getElementById('currentStreak').textContent = 0;
        }

        // ============================================
        // NEGLECT CHECKING
        // ============================================
        function checkNeglectedTasks() {
            const now = new Date();
            const today = now.toISOString().split('T')[0];

            tasks.forEach(task => {
                const taskDate = task.date;
                
                if (taskDate < today && !task.completed && !task.neglected) {
                    task.neglected = true;
                    
                    const monthKey = taskDate.substring(0, 7);
                    
                    if (!stats.daily[taskDate]) stats.daily[taskDate] = { missedHours: 0 };
                    if (!stats.monthly[monthKey]) stats.monthly[monthKey] = { missedHours: 0 };
                    
                    stats.daily[taskDate].missedHours += task.hours;
                    stats.monthly[monthKey].missedHours += task.hours;
                }
            });

            localStorage.setItem('tasks', JSON.stringify(tasks));
            localStorage.setItem('stats', JSON.stringify(stats));
        }

        function scheduleNightlyCheck() {
            const now = new Date();
            const night = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 1);
            const msToMidnight = night.getTime() - now.getTime();

            setTimeout(() => {
                checkNeglectedTasks();
                renderAll();
                showToast('ğŸŒ™ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ù‡Ù…Ù„Ø©');
                
                setInterval(() => {
                    checkNeglectedTasks();
                    renderAll();
                }, 24 * 60 * 60 * 1000);
            }, msToMidnight);
        }

        // ============================================
        // CALENDAR
        // ============================================
        function renderCalendar() {
            const monthNames = ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ', 
                               'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'];
            
            document.getElementById('calendarMonth').textContent = `${monthNames[currentMonth]} ${currentYear}`;

            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';

            for (let i = 0; i < firstDay; i++) {
                grid.innerHTML += '<div></div>';
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayTasks = tasks.filter(t => t.date === dateStr);
                const hasNeglected = dayTasks.some(t => t.neglected);
                const isSelected = selectedDay === day;

                grid.innerHTML += `
                    <div class="calendar-day ${hasNeglected ? 'has-neglected' : ''} ${isSelected ? 'selected' : ''}" 
                         onclick="selectDay(${day})">
                        ${day}
                    </div>
                `;
            }

            if (selectedDay) showDayTasks(selectedDay);
        }

        function selectDay(day) {
            selectedDay = day;
            renderCalendar();
        }

        function showDayTasks(day) {
            const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            const dayTasks = tasks.filter(t => t.date === dateStr);
            const container = document.getElementById('dayTasks');

            if (dayTasks.length === 0) {
                container.innerHTML = '<p style="color: #94a3b8; text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…</p>';
                return;
            }

            container.innerHTML = `
                <h3 style="margin-bottom: 15px; color: #a78bfa;">Ù…Ù‡Ø§Ù… ÙŠÙˆÙ… ${day}</h3>
                ${dayTasks.map(task => `
                    <div class="item ${task.completed ? 'completed' : ''} ${task.neglected ? 'neglected' : ''}" 
                         style="margin-bottom: 10px;">
                        <div class="item-info">
                            <div class="item-title">
                                ${task.title}
                                ${task.neglected ? '<span class="badge badge-neglected">Ù…Ù‡Ù…Ù„</span>' : ''}
                                ${task.completed ? '<span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„</span>' : ''}
                            </div>
                            <div class="item-meta">${task.hours} Ø³Ø§Ø¹Ø©</div>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        function changeMonth(direction) {
            currentMonth += direction;
            
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            } else if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }

            selectedDay = null;
            document.getElementById('dayTasks').innerHTML = '';
            renderCalendar();
        }

        // ============================================
        // TOAST
        // ============================================
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>
